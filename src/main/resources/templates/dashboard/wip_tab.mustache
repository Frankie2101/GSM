<div class="pt-4">
    <div class="row mb-4">
        <div class="col-lg-8">
            <div class="row">
                {{!
                  KPI (Key Performance Indicator) cards displaying summary data.
                  The data is pulled from the dashboardData.wipTab object.
                }}
                <div class="col-md-6 mb-4">
                    <div class="card shadow h-100 py-2 kpi-card kpi-card-primary">
                        {{! ... Orders In Progress KPI ... }}
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Orders In Progress</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{dashboardData.wipTab.ordersInProgress}}</div>
                                </div>
                                <div class="col-auto"><i class="bi bi-kanban-fill fs-2 text-gray-300"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card shadow h-100 py-2 kpi-card kpi-card-danger">
                        {{! ... At-risk Orders KPI ... }}
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">At-risk Orders</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{dashboardData.wipTab.ordersAtRisk}}</div>
                                </div>
                                <div class="col-auto"><i class="bi bi-exclamation-triangle-fill fs-2 text-gray-300"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card shadow h-100 py-2 kpi-card kpi-card-info">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Total Order Qty</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{dashboardData.wipTab.totalOrderQuantity}}</div>
                                </div>
                                <div class="col-auto"><i class="bi bi-box-seam-fill fs-2 text-gray-300"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 mb-4">
                    <div class="card shadow h-100 py-2 kpi-card kpi-card-success">
                        <div class="card-body">
                            <div class="row no-gutters align-items-center">
                                <div class="col mr-2">
                                    <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Total Sewn Qty</div>
                                    <div class="h5 mb-0 font-weight-bold text-gray-800">{{dashboardData.wipTab.totalSewnQuantity}}</div>
                                </div>
                                <div class="col-auto"><i class="bi bi-scissors fs-2 text-gray-300"></i></div>
                            </div>
                        </div>
                    </div>
                </div>
                {{! ... Other KPIs ... }}
            </div>
        </div>
        <div class="col-lg-4 mb-4">
            <div class="card shadow h-100">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">WIP by Department</h6>
                </div>
                <div class="card-body d-flex align-items-center justify-content-center">
                    <div class="chart-container-wip">
                        {{!
                          The canvas element that Chart.js will use to render the donut chart.
                        }}
                        <canvas id="wipDonutChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">WIP Details</h6>
                </div>
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover table-sm mb-0 align-middle">
                            <thead class="table-light">
                            {{! ... table headers ... }}
                            <tr>
                                <th>SO No.</th>
                                <th>Style</th>
                                <th>Color</th>
                                <th>Ship Date</th>
                                <th>Prod. Start</th>
                                <th>Order Qty</th>
                                <th>Ship Qty</th>
                                <th>Cut Qty</th>
                                <th>Sew Qty</th>
                                <th>Pack Qty</th>
                                <th>Cut WIP</th>
                                <th>Sew WIP</th>
                                <th>Pack WIP</th>
                                <th>Remark</th>
                            </tr>
                            </thead>
                            <tbody>
                            {{!
                             Loops through the list of WIP details.
                             The 'remark-cell' class is conditionally applied if a remark exists.
                           }}
                            {{#dashboardData.wipTab.wipDetails}}
                                <tr>
                                    <td>{{saleOrderNo}}</td>
                                    <td>{{style}}</td>
                                    <td>{{color}}</td>
                                    <td>{{shipDate}}</td>
                                    <td>{{productionStartDate}}</td>
                                    <td>{{orderQty}}</td>
                                    <td>{{shipQty}}</td>
                                    <td>{{cutQty}}</td>
                                    <td>{{sewQty}}</td>
                                    <td>{{pckQty}}</td>
                                    <td>{{cutWip}}</td>
                                    <td>{{sewWip}}</td>
                                    <td>{{pckWip}}</td>
                                    <td class="{{#remark}}remark-cell{{/remark}}">{{remark}}</td>
                                </tr>
                            {{/dashboardData.wipTab.wipDetails}}
                            {{!
                              Displays if the WIP details list is empty.
                            }}
                            {{^dashboardData.wipTab.wipDetails}}
                                <tr><td colspan="14" class="text-center p-4">No data available.</td></tr>
                            {{/dashboardData.wipTab.wipDetails}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>