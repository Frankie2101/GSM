<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Print Preview - {{po.purchaseOrderNo}}</title>
    {{! Nhúng các thư viện CSS và JS cần thiết }}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
<main class="container p-4">
    {{#po}}
        <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
                <button class="btn btn-custom-gradient rounded-pill px-4 py-2" id="exportPdfBtn"><i class="bi bi-file-earmark-pdf-fill me-1"></i> Export to PDF</button>
            </div>
        </div>

        <div class="card" id="poPrintArea">
            <div class="card-body p-5">

                {{! --- NỘI DUNG CHI TIẾT CỦA PO ĐÃ ĐƯỢC SAO CHÉP VÀO ĐÂY --- }}
                <h1 class="text-center po-title-print mb-4">PURCHASE ORDER</h1>
                <div class="row mb-4">
                    <div class="col-6">
                        <h5>To: <strong>{{supplierName}}</strong></h5>
                        <p class="mb-1"><strong>Currency:</strong> {{currencyCode}}</p>
                        <p class="mb-1"><strong>Payment Term:</strong> {{paymentTerm}}</p>
                        <p class="mb-1"><strong>Delivery Term:</strong> {{deliveryTerm}}</p>
                    </div>
                    <div class="col-6 text-end">
                        <p class="mb-1"><strong>PO Number:</strong> <span id="poNumberForFileName">{{purchaseOrderNo}}</span></p>
                        <p class="mb-1"><strong>PO Date:</strong> {{poDate}}</p>
                        {{#arrivalDate}}
                            <p class="mb-1"><strong>Arrival Date:</strong> {{arrivalDate}}</p>
                        {{/arrivalDate}}
                    </div>
                </div>

                <h5 class="po-details-title-print">Order Details</h5>
                <div class="table-responsive">
                    <table class="table table-bordered align-middle">
                        <thead class="table-light">
                        <tr>
                            <th>Material Code</th>
                            <th>Material Name</th>
                            <th>Color</th>
                            <th>Size</th>
                            <th class="text-end">Quantity</th>
                            <th>UOM</th>
                            <th class="text-end">Price</th>
                            <th class="text-end">Amount</th>
                        </tr>
                        </thead>
                        <tbody>
                        {{#details}}
                            <tr>
                                <td>{{materialCode}}</td>
                                <td>{{materialName}}</td>
                                <td>{{colorCode}}</td>
                                <td>
                                    {{#size}}{{size}}{{/size}}{{^size}}N/A{{/size}}
                                </td>
                                <td class="text-end">{{#FormatNumber}}{{purchaseQuantity}}{{/FormatNumber}}</td>
                                <td>{{uom}}</td>
                                <td class="text-end">{{#FormatNumber}}{{netPrice}}{{/FormatNumber}}</td>
                                <td class="text-end">{{#FormatNumber}}{{lineAmount}}{{/FormatNumber}}</td>
                            </tr>
                        {{/details}}
                        </tbody>
                        <tfoot>
                        <tr class="fw-bold">
                            <td colspan="7" class="text-end">Total Amount:</td>
                            <td class="text-end">{{#FormatNumber}}{{totalAmount}}{{/FormatNumber}} {{currencyCode}}</td>
                        </tr>
                        </tfoot>
                    </table>
                </div>

            </div>
        </div>
    {{/po}}
</main>
<script src="/js/po-print-preview.js"></script>
</body>
</html>